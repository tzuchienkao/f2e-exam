{"remainingRequest":"/Users/tzuchien/Sites/stockfeel/node_modules/babel-loader/lib/index.js!/Users/tzuchien/Sites/stockfeel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tzuchien/Sites/stockfeel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tzuchien/Sites/stockfeel/src/components/sortTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tzuchien/Sites/stockfeel/src/components/sortTable.vue","mtime":1565253755519},{"path":"/Users/tzuchien/Sites/stockfeel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tzuchien/Sites/stockfeel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tzuchien/Sites/stockfeel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tzuchien/Sites/stockfeel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/tzuchien/Sites/stockfeel/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'sortTable',\n  props: ['isSpecial', 'sortType', 'sortCrease'],\n  data: function data() {\n    return {\n      tableTitle: ['ID', '名稱', '報酬率', '特選商品', '收盤價'],\n      originData: {},\n      newAllData: {}\n    };\n  },\n  watch: {\n    isSpecial: function isSpecial() {\n      this.combineData();\n    },\n    sortType: function sortType() {\n      this.combineData();\n    },\n    sortCrease: function sortCrease() {\n      this.combineData();\n    }\n  },\n  computed: {\n    sortSpecial: function sortSpecial() {\n      return this.isSpecial;\n    },\n    sortByType: function sortByType() {\n      return this.sortType;\n    },\n    sortByCrease: function sortByCrease() {\n      return this.sortCrease;\n    }\n  },\n  methods: {\n    initData: function () {\n      var _initData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('../data.json');\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                this.originData = _context.sent;\n                this.combineData();\n                this.sortBy(this.sortByType);\n                return _context.abrupt(\"return\", this.originData);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initData() {\n        return _initData.apply(this, arguments);\n      }\n\n      return initData;\n    }(),\n    combineData: function combineData() {\n      var _this = this;\n\n      this.newAllData = JSON.parse(JSON.stringify(this.originData));\n      this.newAllData = this.newAllData.filter(function (ele) {\n        if (!ele.specialStock) {\n          ele['specialStockText'] = '否';\n        } else {\n          ele['specialStockText'] = '是';\n        }\n\n        if (_this.sortSpecial) {\n          return ele.specialStock === true;\n        } else {\n          return ele;\n        }\n      });\n\n      if (this.sortByType) {\n        this.newAllData = this.newAllData.sort(function (a, b) {\n          var result = _this.sortByCrease === 'decrease' ? b[_this.sortType] - a[_this.sortType] : a[_this.sortType] - b[_this.sortType];\n          return result;\n        });\n      }\n    },\n    sortBy: function sortBy(type) {\n      console.log(type);\n      var sortType, sortCrease;\n\n      if (type) {\n        switch (type) {\n          case 'specialStock':\n            for (var i in this.newAllData) {\n              if (this.newAllData[i].specialStock === false) {\n                this.newAllData.shift(this.newAllData[i]);\n              }\n            }\n\n            break;\n\n          case 'sortType':\n            sortType = this.sortByType;\n            break;\n\n          case 'sortCrease':\n            sortCrease = this.sortByCrease;\n            break;\n        }\n\n        this.newAllData.sort(function (a, b) {\n          var r_val = sortCrease === 'decrease' ? a - b : b - a;\n          return r_val;\n        });\n        console.log(this.newAllData);\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.initData();\n  }\n};",{"version":3,"sources":["sortTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <section id=\"sortTable\">\n    <table>\n      <tbody>\n        <tr>\n          <td v-for=\"(title, index) in tableTitle\" :key=\"index\">\n            {{ title }}\n          </td>\n        </tr>\n        <tr v-for=\"data in newAllData\" :key=\"data.id\">\n          <td>\n            {{ data.id }}\n          </td>\n          <td>\n            {{ data.name }}\n          </td>\n          <td>\n            {{ data.reward }}\n          </td>\n          <td>\n            {{ data.specialStockText }}\n          </td>\n          <td>\n            {{ data.closePrice }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'sortTable',\n  props: ['isSpecial', 'sortType', 'sortCrease'],\n  data () {\n    return {\n      tableTitle: [\n        'ID',\n        '名稱',\n        '報酬率',\n        '特選商品',\n        '收盤價'\n      ],\n      originData: {},\n      newAllData: {}\n    }\n  },\n  watch: {\n    isSpecial () {\n      this.combineData();\n    },\n    sortType () {\n      this.combineData();\n    },\n    sortCrease () {\n      this.combineData();\n    }\n  },\n  computed: {\n    sortSpecial () {\n      return this.isSpecial;\n    },\n    sortByType () {\n      return this.sortType;\n    },\n    sortByCrease () {\n      return this.sortCrease;\n    }\n  },\n  methods: {\n    async initData () {\n      let res = await fetch('../data.json');\n      this.originData = await res.json();\n      this.combineData();\n      this.sortBy(this.sortByType);\n      return this.originData;\n    },\n    combineData () {\n      this.newAllData = JSON.parse(JSON.stringify(this.originData));\n      this.newAllData = this.newAllData.filter((ele) => {\n        if (!ele.specialStock) {\n          ele['specialStockText'] = '否'\n        } else {\n          ele['specialStockText'] = '是'\n        }\n        if (this.sortSpecial) {\n          return ele.specialStock === true;\n        } else {\n          return ele;\n        }\n      });\n      if (this.sortByType) {\n        this.newAllData = this.newAllData.sort((a, b) => {\n          let result = this.sortByCrease === 'decrease' ? b[this.sortType] - a[this.sortType] : a[this.sortType] - b[this.sortType]\n          return result\n        })\n      }\n    },\n    sortBy (type) {\n      console.log(type)\n      let sortType, sortCrease;\n      if (type) {\n        switch (type) {\n          case 'specialStock':\n            for (let i in this.newAllData) {\n              if (this.newAllData[i].specialStock === false) {\n                  this.newAllData.shift(this.newAllData[i]);\n              }\n            }\n            break;\n          case 'sortType':\n            sortType = this.sortByType;\n            break;\n          case 'sortCrease':\n            sortCrease = this.sortByCrease;\n            break;\n        }\n        this.newAllData.sort(function (a, b) {\n          let r_val = sortCrease === 'decrease' ? a - b : b - a;\n          return r_val;\n        })\n        console.log(this.newAllData)\n      }\n    }\n  },\n  mounted () {\n    this.initData();\n  }\n}\n</script>\n\n<style scoped>\n#sortTable td {\n\n}\n</style>\n"],"sourceRoot":"src/components"}]}